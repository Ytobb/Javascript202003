<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <div id="app">
         姓：<input type="text" v-model="person.firstName">
         名：<input type="text" v-model="person.lastName">
         姓名：<input type="text" v-model="person.fullName">
    </div>
    <script src="node_modules/vue/dist/vue.js"></script>
    <script>
    
        let  vm = new Vue({
            el:"#app",
            data:{
                person:{
                    firstName:"",
                    lastName:"",
                    fullName:"",
                    a:100,
                    b:88
                }
            },
            methods:{
                
            },
            // watch如果监听是一个对象，当这个对象中的属性名和属性值发生改变以后，并不能触发watch监听的这个函数，因为这是个引用类型的空间地址，空间地址不变，这个函数不执行；
            // 把person 改成对象的形式，handler是一个函数，里面的键值对变化以后会让这个函数执行；deep:true ；深度监听里面每一个键值对；对其每一个属性监听，变化之后出发handler的函数
            watch:{
                // 如果需要监听一个属性 属性名 '对象.属性名'
                'person.firstName':{
                    // 只要是这个对象某个键值对发生变化，就会执行handler
                    handler(newVal,oldVal){
                        // newVal:最新的值，oldVal 是上一次值；
                        console.log(newVal,oldVal);
                        // console.log(1);
                    },
                    // immediate:true,// 立即 这个属性能够让解析person默认先执行一次handler;如果没有这个属性，当数据更新改变以后，才会执行
                    deep:true// 深度监听
                }
            }      
        });
    </script>
</body>
</html>